<!doctype html>
<html>
<head>
    <script type="text/javascript" src="../../js/case.js"></script>
</head>
<body class="simple">
    <script type="text/javascript">
        rangy.init();
        var applier = rangy.createCssClassApplier('cms-bold', {
            elementTagName: 'strong'
        });
        function testIsApplied(input) {
            var ranges = tokensToRanges(input);
            if (!applier.isAppliedToRange(ranges[0])) {
                throw new Error('Class is not applied to range, when it should be.');
            }
        }
        function testIsNotApplied(input) {
            var ranges = tokensToRanges(input);
            if (applier.isAppliedToRange(ranges[0])) {
                throw new Error('Class is applied to range, when it should not be.');
            }
        }
    </script>
    <div class="test-1">
        <h1>Is Applied 1</h1>
        <div class="test-input">
            <p>
                {Test}
            </p>
        </div>
        <div class="test-expected">
            <p>
                Test
            </p>
        </div>
    </div>
    <script type="text/javascript">
        test('.test-1', testIsNotApplied);
    </script>

    <div class="test-2">
        <h1>Is Applied 2</h1>
        <div class="test-input">
            <p>
                <strong class="cms-bold">{Test}</strong>
            </p>
        </div>
        <div class="test-expected">
            <p>
                <strong class="cms-bold">Test</strong>
            </p>
        </div>
    </div>
    <script type="text/javascript">
        test('.test-2', testIsApplied);
    </script>

    <div class="test-3">
        <h1>Is Applied 3</h1>
        <div class="test-input">
            <p>
                {}
            </p>
        </div>
        <div class="test-expected">
            <p>
            </p>
        </div>
    </div>
    <script type="text/javascript">
        test('.test-3', testIsNotApplied);
    </script>

    <div class="test-4">
        <h1>Is Applied 4</h1>
        <div class="test-input">
            <p>
                {    }
            </p>
        </div>
        <div class="test-expected">
            <p>
            </p>
        </div>
    </div>
    <script type="text/javascript">
        test('.test-4', testIsNotApplied);
    </script>
</body>
</html>